<div class="solutions-container">
  <div class="breadcrumb">
    <p-breadcrumb [model]="[
      { label: 'Home', routerLink: '/' },
      { label: 'Solution Catalog' }
    ]"></p-breadcrumb>
  </div>

  <div class="filters-header">
    <h2>Solution Catalog</h2>
    <div class="filters-row">
      <div class="left-group">
        <div class="filter-item">
          <label>Sort By</label>
          <p-dropdown 
            [options]="sortOptions" 
            [(ngModel)]="filters.sort"
            (onChange)="onFilterChange()"
            [style]="{'width':'100%'}"
            placeholder="Select Sort Order">
          </p-dropdown>
        </div>

        <div class="filter-item">
          <label>Category</label>
          <p-dropdown 
            [options]="categoryOptions" 
            [(ngModel)]="filters.category"
            (onChange)="onFilterChange()"
            [style]="{'width':'100%'}"
            [showClear]="true"
            [tooltip]="getSelectedCategoryTooltip()"
            tooltipPosition="bottom"
            placeholder="Select Category">
            <ng-template pTemplate="item" let-option>
              <div [attr.title]="option.title">{{ option.label }}</div>
            </ng-template>
          </p-dropdown>
        </div>

        <div class="filter-item">
          <label>Department</label>
          <p-dropdown 
            [options]="departmentOptions" 
            [(ngModel)]="filters.department"
            (onChange)="onFilterChange()"
            [style]="{'width':'100%'}"
            [showClear]="true"
            placeholder="Select Department">
          </p-dropdown>
        </div>
      </div>

      <div class="right-group">
        <div class="filter-item">
          <label>Recommend Status</label>
          <p-dropdown 
            [options]="recommendStatusOptions" 
            [(ngModel)]="filters.recommend_status"
            (onChange)="onFilterChange()"
            [style]="{'width':'100%'}"
            [showClear]="true"
            placeholder="Select Status">
          </p-dropdown>
        </div>

        <div class="filter-item">
          <label>Radar Status</label>
          <p-dropdown 
            [options]="radarStatusOptions" 
            [(ngModel)]="filters.radar_status"
            (onChange)="onFilterChange()"
            [style]="{'width':'100%'}"
            [showClear]="true"
            placeholder="Select Status">
          </p-dropdown>
        </div>

        <div class="filter-item">
          <label>Stage</label>
          <p-dropdown 
            [options]="stageOptions" 
            [(ngModel)]="filters.stage"
            (onChange)="onFilterChange()"
            [style]="{'width':'100%'}"
            [showClear]="true"
            placeholder="Select Stage">
          </p-dropdown>
        </div>
      </div>
    </div>
  </div>

  <div class="solutions-content">
    <div class="solutions-grid" *ngIf="!loading || solutions.length > 0">
      <app-solution-card 
        *ngFor="let solution of solutions" 
        [solution]="solution">
      </app-solution-card>
    </div>

    <div class="loading-more" *ngIf="loadingMore">
      <p-progressSpinner></p-progressSpinner>
      <p>Loading more solutions...</p>
    </div>

    <div class="loading-state" *ngIf="loading && solutions.length === 0">
      <p-progressSpinner></p-progressSpinner>
      <p>Loading solutions...</p>
    </div>

    <div class="error-state" *ngIf="error">
      <p-message severity="error" [text]="error"></p-message>
    </div>
  </div>
</div>